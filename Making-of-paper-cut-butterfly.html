	
<!DOCTYPE html>
<html lang="en-US"> 
    
<head>

<meta charset="UTF-8" />
        
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if gte IE 9 ]><html class="no-js ie9" lang="en"> <![endif]-->
    
    <title>DOTS2ART - Generative Webfolio of Julien Leonard </title>
        
	<meta name="description" content="Generative Webfolio of Julien Leonard" />
	
	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Mobile Specific Metas ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- CSS ================================================== -->

	<link rel="stylesheet" href="css/base.css">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/layout.css">

    	<link href='http://fonts.googleapis.com/css?family=Cousine:400italic,400,700,700italic' rel='stylesheet' type='text/css'>
    
        <script type="text/javascript" src="javascript/jquery.min.js"></script>

    <!-- analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-85603200-1', 'auto');
    ga('send', 'pageview');

    </script>

</head>
<body class="home blog custom-background">
      

<div class="container">

    <!-- menu header -->
  <div class="sixteen columns" id="intro">
    <div id="introtekst"><a href="http://julienleonard.com" title="DOTS2ART" rel="home"><img src="images/dots2art_logo.png" /></a></div>
    <div class="introtitle">DOTS2ART</div>
     <div class="introlinks">
      <a class="glitch" href="index.html">home</a>
      <a class="glitch" href="projects.html">projects</a>
      <a class="glitch" href="dynamics.html">dynamics</a>
      <a class="glitch" href="tutorials.html">tutorials</a>
      <a class="glitch" href="blog.html">blog</a>
      <a class="glitch" href="About.html">about</a>
      <a class="glitch" href="Shop.html">shop</a>
     </div>
  </div>
  
  <div class="clear"></div>


  <div class="content">
<h1>Making of paper cut butterfly</h1>
<p>Welcome to my second tutorial post on generative art.</p>
<p>I am going to describe here the process to generate the following artwork, entitled <a href="work:Paper"></a> Cut Butterfly_1434337762][Paper Cut Butterfly]]</p>
<p><img src="images/Paper-Cut-Butterfly.jpg"/></p>
<p>This tutorial is going to be quite fast-paced, so if you have any question, please feel free to enter them below as a commentary.</p>
<h2>Contour</h2>
<p>The first thing necessary to compute this image is to get a proper vector contour. I choose to use SVG contour, as they are easy to parse, and can be easily generated with open-source tools like <a href="http://inkscape.org">Inkscape</a> Here it is:</p>
<p><img src="images/butterfly-contour.jpg"/></p>
<p>Once we have got the proper SVG file, we can get the corresponding path specification of the shape (a SVG path), then parse it to build a polybezier curve.</p>
<h2>Polybezier</h2>
<p>A polybezier curve is simply a list of adjacent atomic bezier curves that defines the contour. I use a custom library (basically a translation of my Ruby <a href="http://xrvg.rubyforge.org">XRVG</a> library, in python) to both parse the SVG path, and handle the resulting object.</p>
<p>One thing to note in particular, when dealing with bezier curves, is that they are parametric curves, but their parameter is not linear: if you sample a bezier curve with a linear sampling of its parameter, you will not get an evenly distributed set of points (it can actually give you some pretty cool distribution though ...). To be able to sample properly such a curve, a proper linearisation of it must be done. I will not describe here this matter that will hopefully be the subject of another post.</p>
<p>Let just note that the polybezier object is also used to abstract this linearisation, that gives access to all the curve properties that we need for the rest of the generative process. Here is a representation of the polybezier curve with its control points:</p>
<p><img src="images/butterfly-tuto2.jpg"/></p>
<h2>Seed</h2>
<p>Once we have got access to the contour properties, we need to do 2 things.</p>
<p>First, we need to compute the viewbox of the contour, and from there to compute the enclosing circle, for the exterior boundary.</p>
<p>Then, we need to compute a string of adjacent circles on this contour and this boundary, first to define collision boundaries, and then to define seeds for the optimization process, a seed being a pair of adjacent circles chosen from the string.</p>
<p>Here is a large-grained picture of the circles strings defined on the two contours:</p>
<p><img src="images/butterfly-tuto-cstring.jpg"/></p>
<h2>Maximum Circle Packing</h2>
<p>Once we have got the seeds, we can start to compute the maximum circle packing diagram, that is the diagram made of circles which have maximum radius and are enclosed in the contour (so are not colliding with any other circle).</p>
<p>To compute those circles, we compute for each seed the maximum-sized adjacent circle that can be defined by them (by a short optimization process), and then choose the largest one among the seeds. Once we have got the maximum-sized circle for this iteration, we keep it in the result, and add it in the collision buffer list. As an additional trick, we can instead add a modified version of the circle, by decreasing its radius, to give more space to the next circles.</p>
<p>Hereafter you can see the result of this computation for different numbers of circles (1, 16, 256 and 2048), with a radius ratio of 0.5.</p>
<p><img src="images/butterfly-tuto-1max.jpg"/>
<img src="images/butterfly-tuto-5.jpg"/>
<img src="images/butterfly-tuto-10.jpg"/>
<img src="images/butterfly-tuto-1000.jpg"/></p>
<h2>Voronoi</h2>
<p>I will not explain here the nature of a Voronoi diagram (you can check for example <a href="https://en.wikipedia.org/wiki/Voronoi_diagram">here</a> but it is enough to say that this kind of diagram is ubiquitous in Nature, and usually leads to beautiful generative designs.</p>
<p>For this artwork, I use the centers of the maximum circles previously computed to obtain two Voronoi diagrams, one inside the butterfly and one outside the butterfly but inside the enclosing circle. It's worth mentionning that Voronoi polygons are trimmed from the computational raw results, to keep only those that are completely contained inside the contours.</p>
<h2>Conclusion</h2>
<p>And that's it ! I must confess I left unexplained quite a number of details, in particular the different optimizations needed with the maximum circle packing algorithm, the quadtree used to compute effectively collisions, the algorithm to compute the circle strings, but the main principles are there.</p>
<p>I would also like to highlight that this process is only a framework, and can be fine-tuned in lots of different ways: the contour obviously, the colors, but also the distribution of the seeds, the size of maximum circles after computation, and so on !</p>
<p>Please let me know if you have found this tutorial interesting, and if you would like me to explain more in details some particular points.</p>    
  </div>
  

  <div  id="footer">
    
    <div id="footertext" class="container">
      
      + <a href="mailto: jl.julien.leonard@gmail.com">mail</a> | <a href="http://julienleonard.tumblr.com">tumblr</a> | <a href="ram.com/julleor/">instagram</a>

    </div>   

    </div>  

</div>                                        

</body>
</html>           

