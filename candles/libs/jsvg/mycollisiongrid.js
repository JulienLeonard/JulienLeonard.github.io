function Colgrid(b,c,d,l){this.xmin=b;this.xmax=d;this.ymin=c;this.ymax=l;this.ixmin=Math.floor(10*b)-1;this.ixmax=Math.ceil(10*d)+1;this.iymin=Math.floor(10*c)-1;this.iymax=Math.ceil(10*d)+1;this.iwidth=this.ixmax-this.ixmin;this.iheight=this.iymax-this.iymin;this.mgrid=Array(this.iwidth*this.iheight);this.mgridindex=Array(this.iwidth*this.iheight);for(b=c=b=this.maxncircles=0;b<this.iwidth;b++)for(c=0;c<this.iheight;c++)d=b*this.iheight+c,this.mgrid[d]=null,this.mgridindex[d]=0;this.collide=function(a){var b=
Math.ceil(10*(a.x+a.r))-this.ixmin,c=Math.floor(10*(a.y-a.r))-this.iymin,d=Math.ceil(10*(a.y+a.r))-this.iymin,e,f;for(e=Math.floor(10*(a.x-a.r))-this.ixmin;e<b;e++)for(f=c;f<d;f++){var g=e*this.iheight+f,h=this.mgrid[g],k;if(0<this.mgridindex[g])for(k=0;k<this.mgridindex[g];k++)if(arecirclescolliding(a,h[k]))return!0}return!1};this.add=function(a){var b=Math.ceil(10*(a.x+a.r))-this.ixmin,c=Math.floor(10*(a.y-a.r))-this.iymin,d=Math.ceil(10*(a.y+a.r))-this.iymin,e,f;for(e=Math.floor(10*(a.x-a.r))-
this.ixmin;e<b;e++)for(f=c;f<d;f++){var g=e*this.iheight+f,h=this.mgridindex[g];0==h&&(this.mgrid[g]=Array(10));this.mgrid[g][h]=a;this.mgridindex[g]+=1}}};
